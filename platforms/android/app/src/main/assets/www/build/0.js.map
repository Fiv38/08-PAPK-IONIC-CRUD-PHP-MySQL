{"version":3,"sources":["../../src/pages/bookform/bookform.module.ts","../../src/pages/bookform/bookform.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BookformPage } from './bookform';\n\n@NgModule({\n  declarations: [\n    BookformPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BookformPage),\n  ],\n})\nexport class BookformPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bookform/bookform.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { HTTP } from '@ionic-native/http';\n\n@IonicPage()\n@Component({\n    selector: 'page-bookform',\n    templateUrl: 'bookform.html',\n})\nexport class BookformPage {\n    book: any = {\n        judul: '',\n        penerbit: '',\n        pengarang: ''\n    }\n    title = '';\n    header:any = {};\n    bookID = '';\n    toaster: any;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, \n                public http: HTTP, public toastCtrl: ToastController) {\n        this.title = 'Tambah Buku';\n        this.bookID = navParams.get(\"bookID\");\n        if (this.bookID != null || this.bookID != undefined) {\n            this.title = 'Edit Buku';\n        }\n        this.toaster = this.toastCtrl.create({\n            duration: 3000,\n            position: 'bottom'\n        });\n    }\n\n    ionViewDidLoad() {\n        if (this.bookID != '') {\n            this.http.get('http://localhost:8888/ionic_web_server/detail_buku.php', {id: this.bookID}, this.header)\n            .then((res) => {\n                try {\n                    this.book = JSON.parse(res.data)[0];\n                } catch(e) {\n                    console.error('JSON parsing error');\n                }     \n            }).catch(e => {\n                console.log(e);\n            });\n        }\n    }\n\n    save() {\n        if (this.book.judul == '' || this.book.penerbit == '' || this.book.pengarang == '') {\n            this.toaster.setMessage('All fields are required');\n            this.toaster.present();\n        } else {\n            var url = 'http://localhost:8888/ionic_web_server/tambah_buku.php';\n            if (this.bookID) {\n                url = 'http://localhost:8888/ionic_web_server/edit_buku.php'\n            }\n\n            this.http.post(url, this.book, this.header)\n            .then((res) => {\n                try {\n                    console.log(res);\n                    var data = JSON.parse(res.data)\n                    this.toaster.setMessage(data.message);\n                    this.toaster.present();\n                } catch(e) {\n                    console.error('JSON parsing error');\n                }     \n                setTimeout(()=>{\n                    this.navCtrl.pop();\n                }, 300)\n            }).catch(e => {\n                console.log(e);\n            });\n        }\n    }\n\n    deleteBook() {\n        var url = 'http://localhost:8888/ionic_web_server/delete_buku.php';\n        this.http.post(url, {id: this.bookID}, this.header)\n        .then((res) => {\n            try {\n                console.log(res);\n                var data = JSON.parse(res.data)\n                this.toaster.setMessage(data.message);\n                this.toaster.present();\n            } catch(e) {\n                console.error('JSON parsing error');\n            }     \n            setTimeout(()=>{\n                this.navCtrl.pop();\n            }, 300)\n        }).catch(e => {\n            console.log(e);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bookform/bookform.ts"],"sourceRoot":""}